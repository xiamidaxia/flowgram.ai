"use strict";(self.webpackChunk_flowgram_ai_docs=self.webpackChunk_flowgram_ai_docs||[]).push([["752075"],{45622:function(e,n,r){r.r(n),r.d(n,{default:function(){return c}});var t=r(110239),o=r(444827);function a(e){let n=Object.assign({h1:"h1",a:"a",p:"p",pre:"pre",code:"code",div:"div",h2:"h2"},(0,o.ah)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.h1,{id:"workflowdocument-free",children:[(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#workflowdocument-free",children:"#"}),"WorkflowDocument (free)"]}),"\n",(0,t.jsxs)(n.p,{children:["自由布局文档数据，继承自 ",(0,t.jsx)(n.a,{href:"/flowgram.ai/api/core/flow-document.html",children:"FlowDocument"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://flowgram.ai/auto-docs/free-layout-core/classes/WorkflowDocument.html",rel:"noopener noreferrer",target:"_blank",children:"> API Detail"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",meta:"pure",children:"import { useClientContext } from '@flowgram.ai/free-layout-editor'\n\nconst ctx = useClientContext();\nconsole.log(ctx.document)\n"})}),"\n",(0,t.jsxs)(n.div,{className:"rspress-directive tip",children:[(0,t.jsx)(n.div,{className:"rspress-directive-title",children:"TIP"}),(0,t.jsx)(n.div,{className:"rspress-directive-content",children:(0,t.jsxs)(n.p,{children:["\n由于历史原因， 带 ",(0,t.jsx)(n.code,{children:"Workflow"}),"前缀的都代表自由布局"]})})]}),"\n",(0,t.jsxs)(n.h2,{id:"linesmanager",children:[(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#linesmanager",children:"#"}),"linesManager"]}),"\n",(0,t.jsxs)(n.p,{children:["自由布局线条管理，见 ",(0,t.jsx)(n.a,{href:"/api/core/workflow-lines-manager.html",children:"WorkflowLinesManager"})]}),"\n",(0,t.jsxs)(n.h2,{id:"createworkflownodebytype",children:[(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#createworkflownodebytype",children:"#"}),"createWorkflowNodeByType"]}),"\n",(0,t.jsx)(n.p,{children:"根据节点类型创建自由布局节点"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",meta:"pure",children:"const node = ctx.document.createWorkflowNodeByType(\n 'custom',\n  { x: 100, y: 100 },\n  {\n    id: 'xxxx',\n    data: {}\n  }\n)\n"})}),"\n",(0,t.jsxs)(n.h2,{id:"oncontentchange",children:[(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#oncontentchange",children:"#"}),"onContentChange"]}),"\n",(0,t.jsx)(n.p,{children:"监听自由布局画布数据变化"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",meta:"pure",children:"\nexport enum WorkflowContentChangeType {\n  /**\n   * 添加节点\n   */\n  ADD_NODE = 'ADD_NODE',\n  /**\n   * 删除节点\n   */\n  DELETE_NODE = 'DELETE_NODE',\n  /**\n   * 移动节点\n   */\n  MOVE_NODE = 'MOVE_NODE',\n  /**\n   * 节点数据更新 （表单引擎数据 或者 extInfo 数据）\n   */\n  NODE_DATA_CHANGE = 'NODE_DATA_CHANGE',\n  /**\n   * 添加线条\n   */\n  ADD_LINE = 'ADD_LINE',\n  /**\n   * 删除线条\n   */\n  DELETE_LINE = 'DELETE_LINE',\n  /**\n   * 节点Meta信息变更\n   */\n  META_CHANGE = 'META_CHANGE',\n}\n\nexport interface WorkflowContentChangeEvent {\n  type: WorkflowContentChangeType;\n  /**\n   * 当前触发的元素的json数据，toJSON 需要主动触发\n   */\n  toJSON: () => any;\n  /*\n   * 当前的事件的 entity\n   */\n  entity: WorkflowNodeEntity | WorkflowLineEntity;\n}\n\n``\n"})})]})}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,o.ah)(),e.components);return n?(0,t.jsx)(n,Object.assign({},e,{children:(0,t.jsx)(a,e)})):a(e)}let c=s;s.__RSPRESS_PAGE_META={},s.__RSPRESS_PAGE_META["zh%2Fapi%2Fcore%2Fworkflow-document.mdx"]={toc:[{id:"linesmanager",text:"linesManager",depth:2},{id:"createworkflownodebytype",text:"createWorkflowNodeByType",depth:2},{id:"oncontentchange",text:"onContentChange",depth:2}],title:"WorkflowDocument (free)",frontmatter:{}}}}]);